{"version":3,"file":"static/js/267.1ff5821c.chunk.js","mappings":"uQAAaA,EAAY,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC/B,OACE,+BACE,kBACEC,KAAK,OACLF,MAAOA,EACPC,SAAU,SAACE,GAAD,OAAOF,EAASE,EAAEC,OAAOJ,MAAzB,KAIjB,E,SCFGK,EAAU,mCACVC,EAAW,4CAkEjB,EAhEe,WAAO,IAAD,EACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACIC,EAAU,UAAGF,EAAaG,IAAI,iBAApB,QAAiC,GAC/C,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,UAAS,SAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAAM,wCAEZ,6FAEIH,GAAa,GAFjB,SAIcI,EAJd,UAIuBd,EAJvB,oBAI2CD,EAJ3C,wCAIkFK,GAJlF,SAK+BW,EAAAA,EAAAA,IAAUD,GALzC,OAKcE,EALd,OAMQC,QAAQC,IAAIF,GACZR,EAAUQ,EAASG,KAAKC,SAPhC,kDAWQH,QAAQC,IAAR,MAXR,yBAaQR,GAAa,GAbrB,8EAFY,uBAAC,WAAD,wBAkBZW,EACH,GAAE,CAACjB,IAYJ,OACI,2BACKK,IAAY,SAAC,KAAD,CACba,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,cAErD,SAACnC,EAAD,CAAWC,MAAOU,EAAYT,SAhBZ,SAACkC,GAEvB1B,EAD8B,KAAX0B,EAAgB,CAAEA,OAAAA,GAAW,CAAC,EAElD,KAcK,mBAAQjC,KAAK,SAASkC,QAtBT,WACjBb,QAAQC,IAAIX,EAEf,EAmBO,oBACEH,GAAcG,EAAOwB,KAAI,SAAAC,GACvB,OACI,yBACI,yBACA,SAAC,KAAD,CAAqBC,GAAE,WAAMD,EAAME,IAAMC,MAAS,CAACC,KAAMzB,GAAzD,SAAsEqB,EAAMK,OAAjEL,EAAME,OAFZF,EAAME,GAMtB,MAGZ,C","sources":["components/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["export const SearchBox = ({ value, onChange }) => {\n    return (\n      <>\n        <input\n          type=\"text\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n        />\n      </>\n    );\n  };","import { useEffect, useState } from \"react\";\nimport { useSearchParams, Link, useLocation } from \"react-router-dom\";\n\nimport axios from 'axios';\nimport { SearchBox } from \"components/SearchBox\";\n\nimport { ColorRing } from  'react-loader-spinner'\n\nconst API_KEY = '28b9dff9541e6a7c7078bb12d751dcf6';\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n\nconst Movies = () => {\n    const [searchParams, setSearchParams] = useSearchParams();    \n    let movieTitle = searchParams.get(\"filter\") ?? '';\n    const [movies, setMovies] = useState([]);\n    const [isLoading, setIsLoading] = useState('false');\n    const location = useLocation();\n        \n    useEffect(() => {\n    \n        async function fetchData(){\n           \n            setIsLoading(true);\n            try { \n                const url = `${BASE_URL}?api_key=${API_KEY}&language=en-US&page=1&query=${movieTitle}`;\n                const response = await axios.get(url);\n                console.log(response);\n                setMovies(response.data.results);\n                //setTotalPages(response.data.total_pages);\n            } catch(error) {\n                //setError(error)\n                console.log (error)\n            } finally {\n                setIsLoading(false); \n            }\n        };\n        fetchData()\n    }, [movieTitle]);\n    \n    const handleFilter = () => {   \n        console.log(movies); \n          \n    };\n    \n    const updateQueryString = (filter) => {\n        const nextParams = filter !== \"\" ? { filter } : {};\n        setSearchParams(nextParams);\n      };\n\n    return (\n        <div> \n            {isLoading &&<ColorRing\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"blocks-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"blocks-wrapper\"\n            colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n        />}\n            <SearchBox value={movieTitle} onChange={updateQueryString} />\n            <button type='button' onClick = { handleFilter }>Search</button>\n            { movieTitle && movies.map(movie => {\n                return (\n                    <ul key={movie.id}>\n                        <li >\n                        <Link key={movie.id} to={`/${movie.id}`} state = {{from: location}} >{movie.title}</Link>\n                        </li>\n                    </ul>   \n                )\n            })}  \n        </div>\n    );\n};\n\nexport default Movies;\n"],"names":["SearchBox","value","onChange","type","e","target","API_KEY","BASE_URL","useSearchParams","searchParams","setSearchParams","movieTitle","get","useState","movies","setMovies","isLoading","setIsLoading","location","useLocation","useEffect","url","axios","response","console","log","data","results","fetchData","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","filter","onClick","map","movie","to","id","state","from","title"],"sourceRoot":""}